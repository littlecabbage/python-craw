# GitHub Actions 工作流说明

本项目包含两个 GitHub Actions 工作流，用于自动生成 Trending 日报。

## 工作流列表

### 1. 每日自动生成日报 (`daily-report.yml`)

**触发方式：**
- 定时触发：每天早上 9:00 北京时间（UTC 1:00）自动执行
- 手动触发：在 GitHub Actions 页面可以手动触发

**功能：**
- 自动生成 Zread 和 GitHub 两个数据源的日报
- 将生成的报告上传为 Artifact（保留 30 天）
- 可选地将报告提交到仓库

### 2. 手动触发生成日报 (`manual-report.yml`)

**触发方式：**
- 仅在 GitHub Actions 页面手动触发

**功能：**
- 支持选择数据源（both/zread/github）
- 可选择是否提交报告到仓库
- 将生成的报告上传为 Artifact（保留 7 天）
- 在 Actions 摘要中显示生成的文件列表

## 使用方法

### 手动触发工作流

1. 进入 GitHub 仓库页面
2. 点击 "Actions" 标签
3. 在左侧选择对应的工作流
4. 点击 "Run workflow" 按钮
5. 选择参数（仅手动触发工作流支持参数选择）
6. 点击 "Run workflow" 执行

### 查看生成的报告

1. 进入对应工作流的运行记录
2. 在 "Artifacts" 部分下载生成的报告文件
3. 如果启用了自动提交，报告也会出现在 `reports/` 目录中

## 注意事项

1. **首次运行**：首次运行需要下载 Playwright 浏览器，可能需要较长时间
2. **网络连接**：需要稳定的网络连接来访问 GitHub 和 Zread
3. **超时设置**：工作流设置了 30 分钟超时，如果超时请检查网络或脚本执行情况
4. **权限要求**：如果启用自动提交，需要确保 GitHub Token 有写入权限

## 自定义配置

### 修改定时任务时间

编辑 `.github/workflows/daily-report.yml`，修改 cron 表达式：

```yaml
- cron: '0 1 * * *'  # 分钟 小时 日 月 星期
```

**时间对照表（北京时间）：**
- 9:00 → `0 1 * * *` (UTC 1:00)
- 10:00 → `0 2 * * *` (UTC 2:00)
- 8:00 → `0 0 * * *` (UTC 0:00)

### 禁用自动提交

如果不想自动提交报告到仓库，可以：
1. 删除或注释掉工作流中的 "提交报告到仓库" 步骤
2. 或者在手动触发时选择 "跳过提交到仓库" 选项

